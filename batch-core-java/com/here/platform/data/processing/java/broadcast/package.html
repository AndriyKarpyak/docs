<!DOCTYPE html >
<html>
        <head>
          <title>broadcast - com.here.platform.data.processing.java.broadcast</title>
          <meta name="description" content="broadcast - com.here.platform.data.processing.java.broadcast" />
          <meta name="keywords" content="broadcast com.here.platform.data.processing.java.broadcast" />
          <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
          
      <link href="../../../../../../../lib/template.css" media="screen" type="text/css" rel="stylesheet" />
      <link href="../../../../../../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css" />
      <script type="text/javascript" src="../../../../../../../lib/jquery.js" id="jquery-js"></script>
      <script type="text/javascript" src="../../../../../../../lib/jquery-ui.js"></script>
      <script type="text/javascript" src="../../../../../../../lib/template.js"></script>
      <script type="text/javascript" src="../../../../../../../lib/tools.tooltip.js"></script>
      
      <script type="text/javascript">
         if(top === self) {
            var url = '../../../../../../../index.html';
            var hash = 'com.here.platform.data.processing.java.broadcast.package';
            var anchor = window.location.hash;
            var anchor_opt = '';
            if (anchor.length >= 1)
              anchor_opt = '@' + anchor.substring(1);
            window.location.href = url + '#' + hash + anchor_opt;
         }
   	  </script>
    
        </head>
        <body class="value">
      <div id="definition">
        <img alt="Package" src="../../../../../../../lib/package_big.png" />
        <p id="owner"><a href="../../../../../../package.html" class="extype" name="com">com</a>.<a href="../../../../../package.html" class="extype" name="com.here">here</a>.<a href="../../../../package.html" class="extype" name="com.here.platform">platform</a>.<a href="../../../package.html" class="extype" name="com.here.platform.data">data</a>.<a href="../../package.html" class="extype" name="com.here.platform.data.processing">processing</a>.<a href="../package.html" class="extype" name="com.here.platform.data.processing.java">java</a></p>
        <h1>broadcast</h1><span class="permalink">
      <a href="../../../../../../../index.html#com.here.platform.data.processing.java.broadcast.package" title="Permalink" target="_top">
        <img src="../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      </div>

      <h4 id="signature" class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <span class="name">broadcast</span>
      </span>
      </h4>
      
          <div id="comment" class="fullcommenttop"><div class="comment cmt"><p>Provides the basic functionality to perform <a href="http://spark.apache.org/docs/2.1.1/api/scala/index.html#org.apache.spark.broadcast.Broadcast" class="extype" target="_top">org.apache.spark.broadcast.Broadcast</a> creation.</p><p>The required operation to be performed in order to use a broadcast variable in the framework is
to add its hash to the fingerprints. This is needed to not compromise incremental compilations.
This package object provide the method toBroadcast() to be used for that purpose. The package
also offers functionalities to query the DataStore catalogs by properly managing versions.
These functionalities are actually the base of the <a href="http://spark.apache.org/docs/2.1.1/api/scala/index.html#org.apache.spark.broadcast.Broadcast" class="extype" target="_top">org.apache.spark.broadcast.Broadcast</a>
which offers a self-contained mechanism to create a single broadcast variable of a generic type.</p><p>This compiler class should be considered as the preferred way of working with broadcast
variables in ACF.
</p></div><div class="toggleContainer block">
          <span class="toggle">Linear Supertypes</span>
          <div class="superTypes hiddenContent"><span class="extype" name="scala.AnyRef">AnyRef</span>, <span class="extype" name="scala.Any">Any</span></div>
        </div></div>
        

      <div id="mbrsel">
        <div id="textfilter"><span class="pre"></span><span class="input"><input id="mbrsel-input" type="text" accesskey="/" /></span><span class="post"></span></div>
        <div id="order">
              <span class="filtertype">Ordering</span>
              <ol>
                
                <li class="alpha in"><span>Alphabetic</span></li>
                <li class="inherit out"><span>By Inheritance</span></li>
              </ol>
            </div>
        <div id="ancestors">
                <span class="filtertype">Inherited<br />
                </span>
                <ol id="linearization">
                  <li class="in" name="com.here.platform.data.processing.java.broadcast"><span>broadcast</span></li><li class="in" name="scala.AnyRef"><span>AnyRef</span></li><li class="in" name="scala.Any"><span>Any</span></li>
                </ol>
              </div><div id="ancestors">
            <span class="filtertype"></span>
            <ol>
              <li class="hideall out"><span>Hide All</span></li>
              <li class="showall in"><span>Show All</span></li>
            </ol>
          </div>
        <div id="visbl">
            <span class="filtertype">Visibility</span>
            <ol><li class="public in"><span>Public</span></li><li class="all out"><span>All</span></li></ol>
          </div>
      </div>

      <div id="template">
        <div id="allMembers">
        

        <div id="types" class="types members">
              <h3>Type Members</h3>
              <ol><li name="com.here.platform.data.processing.java.broadcast.BroadcastCompiler" visbl="pub" data-isabs="true" fullComment="yes" group="Ungrouped">
      <a id="BroadcastCompiler[T]extendsInputLayerswithInputOptPartitioner"></a>
      <a id="BroadcastCompiler[T]:BroadcastCompiler[T]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">abstract </span>
        <span class="kind">class</span>
      </span>
      <span class="symbol">
        <a href="BroadcastCompiler.html"><span class="name">BroadcastCompiler</span></a><span class="tparams">[<span name="T">T</span>]</span><span class="result"> extends <a href="../compiler/InputLayers.html" class="extype" name="com.here.platform.data.processing.java.compiler.InputLayers">InputLayers</a> with <a href="../compiler/InputOptPartitioner.html" class="extype" name="com.here.platform.data.processing.java.compiler.InputOptPartitioner">InputOptPartitioner</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../index.html#com.here.platform.data.processing.java.broadcast.package@BroadcastCompiler[T]extendsInputLayerswithInputOptPartitioner" title="Permalink" target="_top">
        <img src="../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Offers the interface for the data compilation supposed to be stored on a Spark
<a href="http://spark.apache.org/docs/2.1.1/api/scala/index.html#org.apache.spark.broadcast.Broadcast" class="extype" target="_top">org.apache.spark.broadcast.Broadcast</a> variable.</p><div class="fullcomment"><div class="comment cmt"><p>Offers the interface for the data compilation supposed to be stored on a Spark
<a href="http://spark.apache.org/docs/2.1.1/api/scala/index.html#org.apache.spark.broadcast.Broadcast" class="extype" target="_top">org.apache.spark.broadcast.Broadcast</a> variable.</p><p>Compiled data is an object instance of type T. The suggested use of this functionality is to:
- perform the broadcast creations during the driver setting up.
- send the broadcast variables to the compiler which is under creation as a parameter.
</p></div><dl class="paramcmts block"><dt class="tparam">T</dt><dd class="cmt"><p>the type of the object to be stored in the broadcast variable</p></dd></dl></div>
    </li></ol>
            </div>

        

        <div id="values" class="values members">
              <h3>Value Members</h3>
              <ol><li name="com.here.platform.data.processing.java.broadcast#queryInputMeta" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="queryInputMeta(context:com.here.platform.data.processing.java.driver.DriverContext,inLayers:com.here.platform.data.processing.java.Java.Map[String,com.here.platform.data.processing.java.Java.Set[String]],inPartitioner:com.here.platform.data.processing.java.compiler.InputOptPartitioner,parallelism:Int,logContext:com.here.platform.data.processing.logging.LogContext):org.apache.spark.api.java.JavaPairRDD[com.here.platform.data.processing.java.compiler.InKey,com.here.platform.data.processing.java.compiler.InMeta]"></a>
      <a id="queryInputMeta(DriverContext,Map[String,Set[String]],InputOptPartitioner,Int,LogContext):JavaPairRDD[InKey,InMeta]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">queryInputMeta</span><span class="params">(<span name="context">context: <a href="../driver/DriverContext.html" class="extype" name="com.here.platform.data.processing.java.driver.DriverContext">DriverContext</a></span>, <span name="inLayers">inLayers: <a href="../Java$.html#Map[K,V]=java.util.Map[K,V]" class="extmbr" name="com.here.platform.data.processing.java.Java.Map">Map</a>[<span class="extype" name="scala.Predef.String">String</span>, <a href="../Java$.html#Set[T]=java.util.Set[T]" class="extmbr" name="com.here.platform.data.processing.java.Java.Set">Set</a>[<span class="extype" name="scala.Predef.String">String</span>]]</span>, <span name="inPartitioner">inPartitioner: <a href="../compiler/InputOptPartitioner.html" class="extype" name="com.here.platform.data.processing.java.compiler.InputOptPartitioner">InputOptPartitioner</a></span>, <span name="parallelism">parallelism: <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.Int" class="extype" target="_top">Int</a></span>, <span name="logContext">logContext: <a href="https://olp-arch.jenkins.release.in.here.com/job/ACF/job/stable-acfc/scaladoc/index.html#com.here.platform.data.processing.logging.LogContext" class="extype" target="_top">LogContext</a></span>)</span><span class="result">: <a href="http://spark.apache.org/docs/2.1.1/api/scala/index.html#org.apache.spark.api.java.JavaPairRDD" class="extype" target="_top">JavaPairRDD</a>[<a href="../compiler/package.html#InKey=com.here.platform.data.processing.java.catalog.partition.Key" class="extmbr" name="com.here.platform.data.processing.java.compiler.InKey">InKey</a>, <a href="../compiler/package.html#InMeta=com.here.platform.data.processing.java.catalog.partition.Meta" class="extmbr" name="com.here.platform.data.processing.java.compiler.InMeta">InMeta</a>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../index.html#com.here.platform.data.processing.java.broadcast.package@queryInputMeta(context:com.here.platform.data.processing.java.driver.DriverContext,inLayers:com.here.platform.data.processing.java.Java.Map[String,com.here.platform.data.processing.java.Java.Set[String]],inPartitioner:com.here.platform.data.processing.java.compiler.InputOptPartitioner,parallelism:Int,logContext:com.here.platform.data.processing.logging.LogContext):org.apache.spark.api.java.JavaPairRDD[com.here.platform.data.processing.java.compiler.InKey,com.here.platform.data.processing.java.compiler.InMeta]" title="Permalink" target="_top">
        <img src="../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Gets the input metadata from the input catalogs at the version that needs to be compiled.</p><div class="fullcomment"><div class="comment cmt"><p>Gets the input metadata from the input catalogs at the version that needs to be compiled.
</p></div><dl class="paramcmts block"><dt class="param">context</dt><dd class="cmt"><p>the <a href="../driver/DriverContext.html" class="extype" name="com.here.platform.data.processing.java.driver.DriverContext">com.here.platform.data.processing.java.driver.DriverContext</a> object</p></dd><dt class="param">inLayers</dt><dd class="cmt"><p>the input layers</p></dd><dt class="param">inPartitioner</dt><dd class="cmt"><p>the input partition option, if empty a default hash based partitioner on
                     the default parallelism will be used</p></dd><dt class="param">parallelism</dt><dd class="cmt"><p>the parallelism of both the output RDD</p></dd><dt class="param">logContext</dt><dd class="cmt"><p>the logging context</p></dd><dt>returns</dt><dd class="cmt"><p>the input metadata RDD</p></dd></dl></div>
    </li><li name="com.here.platform.data.processing.java.broadcast#toBroadcast" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="toBroadcast[T](context:com.here.platform.data.processing.java.driver.DriverContext,t:T,fingerprint:Int,clazz:Class[T]):org.apache.spark.broadcast.Broadcast[T]"></a>
      <a id="toBroadcast[T](DriverContext,T,Int,Class[T]):Broadcast[T]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">toBroadcast</span><span class="tparams">[<span name="T">T</span>]</span><span class="params">(<span name="context">context: <a href="../driver/DriverContext.html" class="extype" name="com.here.platform.data.processing.java.driver.DriverContext">DriverContext</a></span>, <span name="t">t: <span class="extype" name="com.here.platform.data.processing.java.broadcast.toBroadcast.T">T</span></span>, <span name="fingerprint">fingerprint: <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.Int" class="extype" target="_top">Int</a></span>, <span name="clazz">clazz: <span class="extype" name="scala.Predef.Class">Class</span>[<span class="extype" name="com.here.platform.data.processing.java.broadcast.toBroadcast.T">T</span>]</span>)</span><span class="result">: <a href="http://spark.apache.org/docs/2.1.1/api/scala/index.html#org.apache.spark.broadcast.Broadcast" class="extype" target="_top">Broadcast</a>[<span class="extype" name="com.here.platform.data.processing.java.broadcast.toBroadcast.T">T</span>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../index.html#com.here.platform.data.processing.java.broadcast.package@toBroadcast[T](context:com.here.platform.data.processing.java.driver.DriverContext,t:T,fingerprint:Int,clazz:Class[T]):org.apache.spark.broadcast.Broadcast[T]" title="Permalink" target="_top">
        <img src="../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Creates a broadcast variable out of an object instance of type T.</p><div class="fullcomment"><div class="comment cmt"><p>Creates a broadcast variable out of an object instance of type T.</p><p>Please note that this method updates a mutable content in the
<a href="../driver/DriverContext.html" class="extype" name="com.here.platform.data.processing.java.driver.DriverContext">com.here.platform.data.processing.java.driver.DriverContext</a> object: it changes a shared status. Multiple calls
to this functionality should then happen in a deterministic order.</p><p>The normal use of this functionality is to:
- perform the broadcast creations during the driver setting up.
- send the broadcast variables to the compiler which is under creation as a parameter.
</p></div><dl class="paramcmts block"><dt class="tparam">T</dt><dd class="cmt"><p>the type of the broadcast variable under creation</p></dd><dt class="param">context</dt><dd class="cmt"><p>the <a href="../driver/DriverContext.html" class="extype" name="com.here.platform.data.processing.java.driver.DriverContext">com.here.platform.data.processing.java.driver.DriverContext</a> object</p></dd><dt class="param">t</dt><dd class="cmt"><p>the object to create a broadcast variable out ot it</p></dd><dt class="param">fingerprint</dt><dd class="cmt"><p>the fingerprint of the parameter t that will be stored in the
                   <a href="https://olp-arch.jenkins.release.in.here.com/job/ACF/job/stable-acfc/scaladoc/index.html#com.here.platform.data.processing.driver.Fingerprints" class="extype" target="_top">com.here.platform.data.processing.driver.Fingerprints</a></p></dd><dt class="param">clazz</dt><dd class="cmt"><p>the Class of type T</p></dd><dt>returns</dt><dd class="cmt"><p>the broadcast variable</p></dd></dl><dl class="attributes block"> <dt>Note</dt><dd><span class="cmt"><p>the stability of the provided fingerprint calculation is crucial to not compromise
      subsequent incremental compilations</p></span></dd></dl></div>
    </li><li name="com.here.platform.data.processing.java.broadcast#toBroadcast" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="toBroadcast[T](context:com.here.platform.data.processing.java.driver.DriverContext,t:T,clazz:Class[T]):org.apache.spark.broadcast.Broadcast[T]"></a>
      <a id="toBroadcast[T](DriverContext,T,Class[T]):Broadcast[T]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">toBroadcast</span><span class="tparams">[<span name="T">T</span>]</span><span class="params">(<span name="context">context: <a href="../driver/DriverContext.html" class="extype" name="com.here.platform.data.processing.java.driver.DriverContext">DriverContext</a></span>, <span name="t">t: <span class="extype" name="com.here.platform.data.processing.java.broadcast.toBroadcast.T">T</span></span>, <span name="clazz">clazz: <span class="extype" name="scala.Predef.Class">Class</span>[<span class="extype" name="com.here.platform.data.processing.java.broadcast.toBroadcast.T">T</span>]</span>)</span><span class="result">: <a href="http://spark.apache.org/docs/2.1.1/api/scala/index.html#org.apache.spark.broadcast.Broadcast" class="extype" target="_top">Broadcast</a>[<span class="extype" name="com.here.platform.data.processing.java.broadcast.toBroadcast.T">T</span>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../index.html#com.here.platform.data.processing.java.broadcast.package@toBroadcast[T](context:com.here.platform.data.processing.java.driver.DriverContext,t:T,clazz:Class[T]):org.apache.spark.broadcast.Broadcast[T]" title="Permalink" target="_top">
        <img src="../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Creates a broadcast variable out of an object instance of type T.</p><div class="fullcomment"><div class="comment cmt"><p>Creates a broadcast variable out of an object instance of type T.</p><p>Please note that this method updates a mutable content in the
<a href="../driver/DriverContext.html" class="extype" name="com.here.platform.data.processing.java.driver.DriverContext">com.here.platform.data.processing.java.driver.DriverContext</a> object: it changes a shared status. Multiple calls
to this functionality should then happen in a deterministic order.</p><p>The normal use of this functionality is to:
- perform the broadcast creations during the driver setting up.
- send the broadcast variables to the compiler which is under creation as a parameter.
</p></div><dl class="paramcmts block"><dt class="tparam">T</dt><dd class="cmt"><p>the type of the broadcast variable under creation</p></dd><dt class="param">context</dt><dd class="cmt"><p>the <a href="../driver/DriverContext.html" class="extype" name="com.here.platform.data.processing.java.driver.DriverContext">com.here.platform.data.processing.java.driver.DriverContext</a> object</p></dd><dt class="param">t</dt><dd class="cmt"><p>the object to create a broadcast variable out ot it</p></dd><dt class="param">clazz</dt><dd class="cmt"><p>the Class of type T</p></dd><dt>returns</dt><dd class="cmt"><p>the broadcast variable</p></dd></dl><dl class="attributes block"> <dt>Note</dt><dd><span class="cmt"><p>as object hashes are added to fingerprints, objects of type T are supposed to have
      stable hashCode() methods, implemented based of the actual object content</p></span></dd></dl></div>
    </li></ol>
            </div>

        

        
        </div>

        <div id="inheritedMembers">
        <div class="parent" name="scala.AnyRef">
              <h3>Inherited from <span class="extype" name="scala.AnyRef">AnyRef</span></h3>
            </div><div class="parent" name="scala.Any">
              <h3>Inherited from <span class="extype" name="scala.Any">Any</span></h3>
            </div>
        
        </div>

        <div id="groupedMembers">
        <div class="group" name="Ungrouped">
              <h3>Ungrouped</h3>
              
            </div>
        </div>

      </div>

      <div id="tooltip"></div>

      <div id="footer">  </div>


    </body>
      </html>
