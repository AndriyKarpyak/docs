<!DOCTYPE html >
<html>
        <head>
          <title>RefTreeUtils - com.here.platform.data.processing.driver.impl.executors.RefTreeUtils</title>
          <meta name="description" content="RefTreeUtils - com.here.platform.data.processing.driver.impl.executors.RefTreeUtils" />
          <meta name="keywords" content="RefTreeUtils com.here.platform.data.processing.driver.impl.executors.RefTreeUtils" />
          <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
          
      <link href="../../../../../../../../lib/template.css" media="screen" type="text/css" rel="stylesheet" />
      <link href="../../../../../../../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css" />
      <script type="text/javascript" src="../../../../../../../../lib/jquery.js" id="jquery-js"></script>
      <script type="text/javascript" src="../../../../../../../../lib/jquery-ui.js"></script>
      <script type="text/javascript" src="../../../../../../../../lib/template.js"></script>
      <script type="text/javascript" src="../../../../../../../../lib/tools.tooltip.js"></script>
      
      <script type="text/javascript">
         if(top === self) {
            var url = '../../../../../../../../index.html';
            var hash = 'com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$';
            var anchor = window.location.hash;
            var anchor_opt = '';
            if (anchor.length >= 1)
              anchor_opt = '@' + anchor.substring(1);
            window.location.href = url + '#' + hash + anchor_opt;
         }
   	  </script>
    
        </head>
        <body class="value">
      <div id="definition">
        <img alt="Object" src="../../../../../../../../lib/object_big.png" />
        <p id="owner"><a href="../../../../../../../package.html" class="extype" name="com">com</a>.<a href="../../../../../../package.html" class="extype" name="com.here">here</a>.<a href="../../../../../package.html" class="extype" name="com.here.platform">platform</a>.<a href="../../../../package.html" class="extype" name="com.here.platform.data">data</a>.<a href="../../../package.html" class="extype" name="com.here.platform.data.processing">processing</a>.<a href="../../package.html" class="extype" name="com.here.platform.data.processing.driver">driver</a>.<a href="../package.html" class="extype" name="com.here.platform.data.processing.driver.impl">impl</a>.<a href="package.html" class="extype" name="com.here.platform.data.processing.driver.impl.executors">executors</a></p>
        <h1>RefTreeUtils</h1><h3><span class="morelinks"><div>Related Doc:
            <a href="package.html" class="extype" name="com.here.platform.data.processing.driver.impl.executors">package executors</a>
          </div></span></h3><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      </div>

      <h4 id="signature" class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <span class="name">RefTreeUtils</span>
      </span>
      </h4>
      
          <div id="comment" class="fullcommenttop"><div class="toggleContainer block">
          <span class="toggle">Linear Supertypes</span>
          <div class="superTypes hiddenContent"><a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.AnyRef" class="extype" target="_top">AnyRef</a>, <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.Any" class="extype" target="_top">Any</a></div>
        </div></div>
        

      <div id="mbrsel">
        <div id="textfilter"><span class="pre"></span><span class="input"><input id="mbrsel-input" type="text" accesskey="/" /></span><span class="post"></span></div>
        <div id="order">
              <span class="filtertype">Ordering</span>
              <ol>
                
                <li class="alpha in"><span>Alphabetic</span></li>
                <li class="inherit out"><span>By Inheritance</span></li>
              </ol>
            </div>
        <div id="ancestors">
                <span class="filtertype">Inherited<br />
                </span>
                <ol id="linearization">
                  <li class="in" name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils"><span>RefTreeUtils</span></li><li class="in" name="scala.AnyRef"><span>AnyRef</span></li><li class="in" name="scala.Any"><span>Any</span></li>
                </ol>
              </div><div id="ancestors">
            <span class="filtertype"></span>
            <ol>
              <li class="hideall out"><span>Hide All</span></li>
              <li class="showall in"><span>Show All</span></li>
            </ol>
          </div>
        <div id="visbl">
            <span class="filtertype">Visibility</span>
            <ol><li class="public in"><span>Public</span></li><li class="all out"><span>All</span></li></ol>
          </div>
      </div>

      <div id="template">
        <div id="allMembers">
        

        <div id="types" class="types members">
              <h3>Type Members</h3>
              <ol><li name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="Refs=Map[(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Name),org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,Map[com.here.platform.data.processing.compiler.reftree.RefTree.RefName,Set[com.here.platform.data.processing.catalog.Partition.Key]])]]"></a>
      <a id="Refs:Refs"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">type</span>
      </span>
      <span class="symbol">
        <span class="name">Refs</span><span class="result"> = <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.collection.immutable.Map" class="extype" target="_top">Map</a>[(<span class="extype" name="com.here.platform.data.processing.catalog.Catalog.Id">Id</span>, <span class="extype" name="com.here.platform.data.processing.catalog.Layer.Name">Name</span>), <a href="http://spark.apache.org/docs/2.1.1/api/scala/index.html#org.apache.spark.rdd.RDD" class="extype" target="_top">RDD</a>[(<span class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</span>, <span class="extype" name="scala.Predef.Map">Map</span>[<a href="../../../compiler/reftree/RefTree$.html#RefName=Symbol" class="extmbr" name="com.here.platform.data.processing.compiler.reftree.RefTree.RefName">RefName</a>, <span class="extype" name="scala.Predef.Set">Set</span>[<span class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</span>]])]]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@Refs=Map[(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Name),org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,Map[com.here.platform.data.processing.compiler.reftree.RefTree.RefName,Set[com.here.platform.data.processing.catalog.Partition.Key]])]]" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Type for storing References in an RDD.</p><div class="fullcomment"><div class="comment cmt"><p>Type for storing References in an RDD. Represents a map.
The key of the map is (catalog for source layer, source layer).
The value of the map is (source partition key, [reference name -&gt; target partition key]). In other words it is
mapping between partitions on the source layer to partitions on the target layer. This mapping is references.
</p></div></div>
    </li></ol>
            </div>

        

        <div id="values" class="values members">
              <h3>Value Members</h3>
              <ol><li name="scala.AnyRef#!=" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="!=(x$1:Any):Boolean"></a>
      <a id="!=(Any):Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span title="gt4s: $bang$eq" class="name">!=</span><span class="params">(<span name="arg0">arg0: <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.Any" class="extype" target="_top">Any</a></span>)</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.Boolean" class="extype" target="_top">Boolean</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@!=(x$1:Any):Boolean" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="scala.AnyRef###" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="##():Int"></a>
      <a id="##():Int"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span title="gt4s: $hash$hash" class="name">##</span><span class="params">()</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.Int" class="extype" target="_top">Int</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@##():Int" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="scala.AnyRef#==" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="==(x$1:Any):Boolean"></a>
      <a id="==(Any):Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span title="gt4s: $eq$eq" class="name">==</span><span class="params">(<span name="arg0">arg0: <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.Any" class="extype" target="_top">Any</a></span>)</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.Boolean" class="extype" target="_top">Boolean</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@==(x$1:Any):Boolean" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="scala.Any#asInstanceOf" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="asInstanceOf[T0]:T0"></a>
      <a id="asInstanceOf[T0]:T0"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">asInstanceOf</span><span class="tparams">[<span name="T0">T0</span>]</span><span class="result">: <span class="extype" name="scala.Any.asInstanceOf.T0">T0</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@asInstanceOf[T0]:T0" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Any</dd></dl></div>
    </li><li name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils#calcRefs" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="calcRefs(refTree:com.here.platform.data.processing.compiler.reftree.RefTree,inData:org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta)],resolveIn:com.here.platform.data.processing.compiler.reftree.ResolveInFn,numThreads:Int,storageLevel:org.apache.spark.storage.StorageLevel,layerPartitioning:Map[(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Name),com.here.platform.data.processing.catalog.Partitioning.Value],debugConfig:com.here.platform.data.processing.driver.config.ExecutorDebugConfig)(implicitlogContext:com.here.platform.data.processing.logging.LogContext):com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs"></a>
      <a id="calcRefs(RefTree,RDD[(Key,Meta)],ResolveInFn,Int,StorageLevel,Map[(Id,Name),catalog.Partitioning.Value],ExecutorDebugConfig)(LogContext):Refs"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">calcRefs</span><span class="params">(<span name="refTree">refTree: <a href="../../../compiler/reftree/RefTree.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefTree">RefTree</a></span>, <span name="inData">inData: <a href="http://spark.apache.org/docs/2.1.1/api/scala/index.html#org.apache.spark.rdd.RDD" class="extype" target="_top">RDD</a>[(<span class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</span>, <span class="extype" name="com.here.platform.data.processing.catalog.Partition.Meta">Meta</span>)]</span>, <span name="resolveIn">resolveIn: <a href="../../../compiler/reftree/ResolveInFn.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.ResolveInFn">ResolveInFn</a></span>, <span name="numThreads">numThreads: <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.Int" class="extype" target="_top">Int</a></span>, <span name="storageLevel">storageLevel: <a href="http://spark.apache.org/docs/2.1.1/api/scala/index.html#org.apache.spark.storage.StorageLevel" class="extype" target="_top">StorageLevel</a></span>, <span name="layerPartitioning">layerPartitioning: <span class="extype" name="scala.Predef.Map">Map</span>[(<span class="extype" name="com.here.platform.data.processing.catalog.Catalog.Id">Id</span>, <span class="extype" name="com.here.platform.data.processing.catalog.Layer.Name">Name</span>), <span class="extype" name="scala.Enumeration.Value">catalog.Partitioning.Value</span>]</span>, <span name="debugConfig">debugConfig: <a href="../../config/ExecutorDebugConfig.html" class="extype" name="com.here.platform.data.processing.driver.config.ExecutorDebugConfig">ExecutorDebugConfig</a></span>)</span><span class="params">(<span class="implicit">implicit </span><span name="logContext">logContext: <a href="https://olp-arch.jenkins.release.in.here.com/job/ACF/job/stable-acfc/scaladoc/index.html#com.here.platform.data.processing.logging.LogContext" class="extype" target="_top">LogContext</a></span>)</span><span class="result">: <a href="#Refs=Map[(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Name),org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,Map[com.here.platform.data.processing.compiler.reftree.RefTree.RefName,Set[com.here.platform.data.processing.catalog.Partition.Key]])]]" class="extmbr" name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs">Refs</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@calcRefs(refTree:com.here.platform.data.processing.compiler.reftree.RefTree,inData:org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta)],resolveIn:com.here.platform.data.processing.compiler.reftree.ResolveInFn,numThreads:Int,storageLevel:org.apache.spark.storage.StorageLevel,layerPartitioning:Map[(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Name),com.here.platform.data.processing.catalog.Partitioning.Value],debugConfig:com.here.platform.data.processing.driver.config.ExecutorDebugConfig)(implicitlogContext:com.here.platform.data.processing.logging.LogContext):com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Calculates all references using the given resolver.</p><div class="fullcomment"><div class="comment cmt"><p>Calculates all references using the given resolver.
If numThreads &gt; 1, calls are executed in parallel in an ExecutorService.
</p></div><dl class="paramcmts block"><dt class="param">refTree</dt><dd class="cmt"><p>a <a href="../../../compiler/reftree/RefTree.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefTree">com.here.platform.data.processing.compiler.reftree.RefTree</a> defining the reference structure</p></dd><dt class="param">inData</dt><dd class="cmt"><p>Input Data, will be accessed multiple times and must therefore be persisted
                         or easy to rebuild from persisted data</p></dd><dt class="param">resolveIn</dt><dd class="cmt"><p>the interface implementing the function that resolves references</p></dd><dt class="param">numThreads</dt><dd class="cmt"><p>the number of resolving threads</p></dd><dt class="param">storageLevel</dt><dd class="cmt"><p>the storage level to be used when persisting</p></dd><dt class="param">layerPartitioning</dt><dd class="cmt"><p>layer partitioning configuration</p></dd><dt>returns</dt><dd class="cmt"><p>a map of one RDD per layer, with all the references for this layer</p></dd></dl></div>
    </li><li name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils#calcSubRefs" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="calcSubRefs(refTree:com.here.platform.data.processing.compiler.reftree.RefTree,refStructure:Seq[com.here.platform.data.processing.compiler.reftree.RefBase],subset:org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta)],inData:org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta)],resolveIn:com.here.platform.data.processing.compiler.reftree.ResolveInFn,numThreads:Int,storageLevel:org.apache.spark.storage.StorageLevel,layerPartitioning:Map[(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Name),com.here.platform.data.processing.catalog.Partitioning.Value],debugConfig:com.here.platform.data.processing.driver.config.ExecutorDebugConfig)(implicitlogContext:com.here.platform.data.processing.logging.LogContext):com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs"></a>
      <a id="calcSubRefs(RefTree,Seq[RefBase],RDD[(Key,Meta)],RDD[(Key,Meta)],ResolveInFn,Int,StorageLevel,Map[(Id,Name),catalog.Partitioning.Value],ExecutorDebugConfig)(LogContext):Refs"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">calcSubRefs</span><span class="params">(<span name="refTree">refTree: <a href="../../../compiler/reftree/RefTree.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefTree">RefTree</a></span>, <span name="refStructure">refStructure: <span class="extype" name="scala.Seq">Seq</span>[<a href="../../../compiler/reftree/RefBase.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefBase">RefBase</a>]</span>, <span name="subset">subset: <a href="http://spark.apache.org/docs/2.1.1/api/scala/index.html#org.apache.spark.rdd.RDD" class="extype" target="_top">RDD</a>[(<span class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</span>, <span class="extype" name="com.here.platform.data.processing.catalog.Partition.Meta">Meta</span>)]</span>, <span name="inData">inData: <a href="http://spark.apache.org/docs/2.1.1/api/scala/index.html#org.apache.spark.rdd.RDD" class="extype" target="_top">RDD</a>[(<span class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</span>, <span class="extype" name="com.here.platform.data.processing.catalog.Partition.Meta">Meta</span>)]</span>, <span name="resolveIn">resolveIn: <a href="../../../compiler/reftree/ResolveInFn.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.ResolveInFn">ResolveInFn</a></span>, <span name="numThreads">numThreads: <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.Int" class="extype" target="_top">Int</a></span>, <span name="storageLevel">storageLevel: <a href="http://spark.apache.org/docs/2.1.1/api/scala/index.html#org.apache.spark.storage.StorageLevel" class="extype" target="_top">StorageLevel</a></span>, <span name="layerPartitioning">layerPartitioning: <span class="extype" name="scala.Predef.Map">Map</span>[(<span class="extype" name="com.here.platform.data.processing.catalog.Catalog.Id">Id</span>, <span class="extype" name="com.here.platform.data.processing.catalog.Layer.Name">Name</span>), <span class="extype" name="scala.Enumeration.Value">catalog.Partitioning.Value</span>]</span>, <span name="debugConfig">debugConfig: <a href="../../config/ExecutorDebugConfig.html" class="extype" name="com.here.platform.data.processing.driver.config.ExecutorDebugConfig">ExecutorDebugConfig</a></span>)</span><span class="params">(<span class="implicit">implicit </span><span name="logContext">logContext: <a href="https://olp-arch.jenkins.release.in.here.com/job/ACF/job/stable-acfc/scaladoc/index.html#com.here.platform.data.processing.logging.LogContext" class="extype" target="_top">LogContext</a></span>)</span><span class="result">: <a href="#Refs=Map[(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Name),org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,Map[com.here.platform.data.processing.compiler.reftree.RefTree.RefName,Set[com.here.platform.data.processing.catalog.Partition.Key]])]]" class="extmbr" name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs">Refs</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@calcSubRefs(refTree:com.here.platform.data.processing.compiler.reftree.RefTree,refStructure:Seq[com.here.platform.data.processing.compiler.reftree.RefBase],subset:org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta)],inData:org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta)],resolveIn:com.here.platform.data.processing.compiler.reftree.ResolveInFn,numThreads:Int,storageLevel:org.apache.spark.storage.StorageLevel,layerPartitioning:Map[(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Name),com.here.platform.data.processing.catalog.Partitioning.Value],debugConfig:com.here.platform.data.processing.driver.config.ExecutorDebugConfig)(implicitlogContext:com.here.platform.data.processing.logging.LogContext):com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Calculates all references required to compile a given subset of input partitions using the given resolver.</p><div class="fullcomment"><div class="comment cmt"><p>Calculates all references required to compile a given subset of input partitions using the given resolver.
If numThreads &gt; 1, calls are executed in parallel in an ExecutorService.
</p></div><dl class="paramcmts block"><dt class="param">refTree</dt><dd class="cmt"><p>A <a href="../../../compiler/reftree/RefTree.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefTree">com.here.platform.data.processing.compiler.reftree.RefTree</a> defining the reference structure.
                    It is only used for consistency checks of the data returned by the resolver</p></dd><dt class="param">refStructure</dt><dd class="cmt"><p>This should be the sequence of entries on a given level in the passed refTree. Resolving will
                    be started in this level, using the given partitions in the passed subset</p></dd><dt class="param">subset</dt><dd class="cmt"><p>A subset on inData which will be resolved. All resolved tiles will again be recursively resolved</p></dd><dt class="param">inData</dt><dd class="cmt"><p>Entire Input Data, will be accessed multiple times and must therefore be persisted
                    or easy to recompute</p></dd><dt class="param">resolveIn</dt><dd class="cmt"><p>the interface implementing the function that resolves references</p></dd><dt class="param">numThreads</dt><dd class="cmt"><p>the number of resolving threads</p></dd><dt class="param">storageLevel</dt><dd class="cmt"><p>the storage level to be used when persisting</p></dd><dt class="param">layerPartitioning</dt><dd class="cmt"><p>layer partitioning configuration</p></dd><dt>returns</dt><dd class="cmt"><p>a Map of one RDD per layer, with all the references for this layer</p></dd></dl><dl class="attributes block"> <dt>Note</dt><dd><span class="cmt"><p>This implementation may resolve the same tile multiple times, in case the same layer appears on different
      levels in the tree. For large subsets it can be significantly slower than using <a href="#calcRefs(refTree:com.here.platform.data.processing.compiler.reftree.RefTree,inData:org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta)],resolveIn:com.here.platform.data.processing.compiler.reftree.ResolveInFn,numThreads:Int,storageLevel:org.apache.spark.storage.StorageLevel,layerPartitioning:Map[(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Name),com.here.platform.data.processing.catalog.Partitioning.Value],debugConfig:com.here.platform.data.processing.driver.config.ExecutorDebugConfig)(implicitlogContext:com.here.platform.data.processing.logging.LogContext):com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs" class="extmbr" name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils#calcRefs">RefTreeUtils.calcRefs</a>
      and resolving the entire input data</p></span></dd></dl></div>
    </li><li name="scala.AnyRef#clone" visbl="prt" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="clone():Object"></a>
      <a id="clone():AnyRef"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">clone</span><span class="params">()</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.AnyRef" class="extype" target="_top">AnyRef</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@clone():Object" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Attributes</dt><dd>protected[<a href="../../../../../../../../java$lang.html" class="extype" name="java.lang">java.lang</a>] </dd><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd>
                <span class="name">@throws</span><span class="args">(<span>
      
      <span class="defval" name="classOf[java.lang.CloneNotSupportedException]">...</span>
    </span>)</span>
              
        </dd></dl></div>
    </li><li name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils#collectLayerPartitioningForCatalogs" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="collectLayerPartitioningForCatalogs(layerConfigs:Map[com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Configuration]):Map[(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Name),com.here.platform.data.processing.catalog.Partitioning.Value]"></a>
      <a id="collectLayerPartitioningForCatalogs(Map[Id,Configuration]):Map[(Id,Name),catalog.Partitioning.Value]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">collectLayerPartitioningForCatalogs</span><span class="params">(<span name="layerConfigs">layerConfigs: <span class="extype" name="scala.Predef.Map">Map</span>[<span class="extype" name="com.here.platform.data.processing.catalog.Catalog.Id">Id</span>, <a href="https://olp-arch.jenkins.release.in.here.com/job/ACF/job/stable-acfc/scaladoc/index.html#com.here.platform.data.processing.catalog.Configuration" class="extype" target="_top">Configuration</a>]</span>)</span><span class="result">: <span class="extype" name="scala.Predef.Map">Map</span>[(<span class="extype" name="com.here.platform.data.processing.catalog.Catalog.Id">Id</span>, <span class="extype" name="com.here.platform.data.processing.catalog.Layer.Name">Name</span>), <span class="extype" name="scala.Enumeration.Value">catalog.Partitioning.Value</span>]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@collectLayerPartitioningForCatalogs(layerConfigs:Map[com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Configuration]):Map[(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Name),com.here.platform.data.processing.catalog.Partitioning.Value]" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Collects partitioning information for each layer from multiple catalog configurations</p><div class="fullcomment"><div class="comment cmt"><p>Collects partitioning information for each layer from multiple catalog configurations</p></div><dl class="paramcmts block"><dt class="param">layerConfigs</dt><dd class="cmt"><p>map from CatalogIds to catalog configuration</p></dd><dt>returns</dt><dd class="cmt"><p>map from pair of CatalogId and LayerName to configured partitioning type</p></dd></dl></div>
    </li><li name="scala.AnyRef#eq" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="eq(x$1:AnyRef):Boolean"></a>
      <a id="eq(AnyRef):Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">eq</span><span class="params">(<span name="arg0">arg0: <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.AnyRef" class="extype" target="_top">AnyRef</a></span>)</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.Boolean" class="extype" target="_top">Boolean</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@eq(x$1:AnyRef):Boolean" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd></dl></div>
    </li><li name="scala.AnyRef#equals" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="equals(x$1:Any):Boolean"></a>
      <a id="equals(Any):Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">equals</span><span class="params">(<span name="arg0">arg0: <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.Any" class="extype" target="_top">Any</a></span>)</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.Boolean" class="extype" target="_top">Boolean</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@equals(x$1:Any):Boolean" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="scala.AnyRef#finalize" visbl="prt" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="finalize():Unit"></a>
      <a id="finalize():Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">finalize</span><span class="params">()</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.Unit" class="extype" target="_top">Unit</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@finalize():Unit" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Attributes</dt><dd>protected[<a href="../../../../../../../../java$lang.html" class="extype" name="java.lang">java.lang</a>] </dd><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd>
                <span class="name">@throws</span><span class="args">(<span>
      
      <span class="symbol">classOf[java.lang.Throwable]</span>
    </span>)</span>
              
        </dd></dl></div>
    </li><li name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils#gatherReferences" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="gatherReferences(refTree:com.here.platform.data.processing.compiler.reftree.RefTree,impacted:org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,Unit)],refs:com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs,inData:org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta)],storageLevel:org.apache.spark.storage.StorageLevel):org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta))]"></a>
      <a id="gatherReferences(RefTree,RDD[(Key,Unit)],Refs,RDD[(Key,Meta)],StorageLevel):RDD[(Key,(Key,Meta))]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">gatherReferences</span><span class="params">(<span name="refTree">refTree: <a href="../../../compiler/reftree/RefTree.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefTree">RefTree</a></span>, <span name="impacted">impacted: <a href="http://spark.apache.org/docs/2.1.1/api/scala/index.html#org.apache.spark.rdd.RDD" class="extype" target="_top">RDD</a>[(<span class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</span>, <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.Unit" class="extype" target="_top">Unit</a>)]</span>, <span name="refs">refs: <a href="#Refs=Map[(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Name),org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,Map[com.here.platform.data.processing.compiler.reftree.RefTree.RefName,Set[com.here.platform.data.processing.catalog.Partition.Key]])]]" class="extmbr" name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs">Refs</a></span>, <span name="inData">inData: <a href="http://spark.apache.org/docs/2.1.1/api/scala/index.html#org.apache.spark.rdd.RDD" class="extype" target="_top">RDD</a>[(<span class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</span>, <span class="extype" name="com.here.platform.data.processing.catalog.Partition.Meta">Meta</span>)]</span>, <span name="storageLevel">storageLevel: <a href="http://spark.apache.org/docs/2.1.1/api/scala/index.html#org.apache.spark.storage.StorageLevel" class="extype" target="_top">StorageLevel</a></span>)</span><span class="result">: <a href="http://spark.apache.org/docs/2.1.1/api/scala/index.html#org.apache.spark.rdd.RDD" class="extype" target="_top">RDD</a>[(<span class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</span>, (<span class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</span>, <span class="extype" name="com.here.platform.data.processing.catalog.Partition.Meta">Meta</span>))]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@gatherReferences(refTree:com.here.platform.data.processing.compiler.reftree.RefTree,impacted:org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,Unit)],refs:com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs,inData:org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta)],storageLevel:org.apache.spark.storage.StorageLevel):org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta))]" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Gathers all references needed by the partitions in impacted.</p><div class="fullcomment"><div class="comment cmt"><p>Gathers all references needed by the partitions in impacted.
</p></div><dl class="paramcmts block"><dt class="param">refTree</dt><dd class="cmt"><p>a [com.here.platform.data.processing.compiler.reftree.RefTree] defining the structure of the references</p></dd><dt class="param">impacted</dt><dd class="cmt"><p>partition keys for which references shall be gathered</p></dd><dt class="param">refs</dt><dd class="cmt"><p>the <a href="#Refs=Map[(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Name),org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,Map[com.here.platform.data.processing.compiler.reftree.RefTree.RefName,Set[com.here.platform.data.processing.catalog.Partition.Key]])]]" class="extmbr" name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs">Refs</a> object with references</p></dd><dt class="param">inData</dt><dd class="cmt"><p>Input Data, needed to add <a href="https://olp-arch.jenkins.release.in.here.com/job/ACF/job/stable-acfc/scaladoc/index.html#com.here.platform.data.processing.catalog.Partition$.Meta" class="extype" target="_top">com.here.platform.data.processing.catalog.Partition.Meta</a> to references.
                    Will be accessed multiple times and must therefore be persisted to a StorageLevel other than None</p></dd><dt class="param">storageLevel</dt><dd class="cmt"><p>the storage level to be used when persisting</p></dd><dt>returns</dt><dd class="cmt"><p>all references for the impacted partitions (srcKey, (refKey, refMeta)</p></dd></dl></div>
    </li><li name="scala.AnyRef#getClass" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="getClass():Class[_]"></a>
      <a id="getClass():Class[_]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">getClass</span><span class="params">()</span><span class="result">: <span class="extype" name="java.lang.Class">Class</span>[_]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@getClass():Class[_]" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils#getImpacted" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="getImpacted(refTree:com.here.platform.data.processing.compiler.reftree.RefTree,inChanges:org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Change)],refs:com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs):org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,Unit)]"></a>
      <a id="getImpacted(RefTree,RDD[(Key,Change)],Refs):RDD[(Key,Unit)]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">getImpacted</span><span class="params">(<span name="refTree">refTree: <a href="../../../compiler/reftree/RefTree.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefTree">RefTree</a></span>, <span name="inChanges">inChanges: <a href="http://spark.apache.org/docs/2.1.1/api/scala/index.html#org.apache.spark.rdd.RDD" class="extype" target="_top">RDD</a>[(<span class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</span>, <span class="extype" name="com.here.platform.data.processing.catalog.Partition.Change">Change</span>)]</span>, <span name="refs">refs: <a href="#Refs=Map[(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Name),org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,Map[com.here.platform.data.processing.compiler.reftree.RefTree.RefName,Set[com.here.platform.data.processing.catalog.Partition.Key]])]]" class="extmbr" name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs">Refs</a></span>)</span><span class="result">: <a href="http://spark.apache.org/docs/2.1.1/api/scala/index.html#org.apache.spark.rdd.RDD" class="extype" target="_top">RDD</a>[(<span class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</span>, <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.Unit" class="extype" target="_top">Unit</a>)]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@getImpacted(refTree:com.here.platform.data.processing.compiler.reftree.RefTree,inChanges:org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Change)],refs:com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs):org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,Unit)]" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Calculates the partitions on the subject layer impacted by a change.</p><div class="fullcomment"><div class="comment cmt"><p>Calculates the partitions on the subject layer impacted by a change.
It uses a <a href="../../../compiler/reftree/RefTree.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefTree">com.here.platform.data.processing.compiler.reftree.RefTree</a> to know the structure of the references,
and pre-resolved references in a <a href="#Refs=Map[(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Name),org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,Map[com.here.platform.data.processing.compiler.reftree.RefTree.RefName,Set[com.here.platform.data.processing.catalog.Partition.Key]])]]" class="extmbr" name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs">Refs</a> data structure to follow them.
</p></div><dl class="paramcmts block"><dt class="param">refTree</dt><dd class="cmt"><p>a <a href="../../../compiler/reftree/RefTree.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefTree">com.here.platform.data.processing.compiler.reftree.RefTree</a> defining the structure of the references</p></dd><dt class="param">inChanges</dt><dd class="cmt"><p>the partitions that need to be checked for impact</p></dd><dt class="param">refs</dt><dd class="cmt"><p>the <a href="#Refs=Map[(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Name),org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,Map[com.here.platform.data.processing.compiler.reftree.RefTree.RefName,Set[com.here.platform.data.processing.catalog.Partition.Key]])]]" class="extmbr" name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs">Refs</a> pre-resolved references to use for reference resolution</p></dd><dt>returns</dt><dd class="cmt"><p>an RDD with a number of partitions, which are all impacted by the inChanges according
        to the given <a href="../../../compiler/reftree/RefTree.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefTree">com.here.platform.data.processing.compiler.reftree.RefTree</a>. This RDD does NOT have duplicate entries</p></dd></dl></div>
    </li><li name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils#groupReferences" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="groupReferences(gathered:org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta))]):org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,Map[com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta])]"></a>
      <a id="groupReferences(RDD[(Key,(Key,Meta))]):RDD[(Key,Map[Key,Meta])]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">groupReferences</span><span class="params">(<span name="gathered">gathered: <a href="http://spark.apache.org/docs/2.1.1/api/scala/index.html#org.apache.spark.rdd.RDD" class="extype" target="_top">RDD</a>[(<span class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</span>, (<span class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</span>, <span class="extype" name="com.here.platform.data.processing.catalog.Partition.Meta">Meta</span>))]</span>)</span><span class="result">: <a href="http://spark.apache.org/docs/2.1.1/api/scala/index.html#org.apache.spark.rdd.RDD" class="extype" target="_top">RDD</a>[(<span class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</span>, <span class="extype" name="scala.Predef.Map">Map</span>[<span class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</span>, <span class="extype" name="com.here.platform.data.processing.catalog.Partition.Meta">Meta</span>])]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@groupReferences(gathered:org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta))]):org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,Map[com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta])]" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Groups the references gathered by <a href="#gatherReferences(refTree:com.here.platform.data.processing.compiler.reftree.RefTree,impacted:org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,Unit)],refs:com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs,inData:org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta)],storageLevel:org.apache.spark.storage.StorageLevel):org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta))]" class="extmbr" name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils#gatherReferences">gatherReferences</a> into Maps.</p><div class="fullcomment"><div class="comment cmt"><p>Groups the references gathered by <a href="#gatherReferences(refTree:com.here.platform.data.processing.compiler.reftree.RefTree,impacted:org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,Unit)],refs:com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs,inData:org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta)],storageLevel:org.apache.spark.storage.StorageLevel):org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Meta))]" class="extmbr" name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils#gatherReferences">gatherReferences</a> into Maps.</p><p>A sanity check is implemented to enforce that for the same input key
there is one and only one metadata.
</p></div><dl class="paramcmts block"><dt class="param">gathered</dt><dd class="cmt"><p>references gathered and partitioned by key, one entry per reference</p></dd><dt>returns</dt><dd class="cmt"><p>the references grouped in a Map, for every subject key</p></dd></dl></div>
    </li><li name="scala.AnyRef#hashCode" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="hashCode():Int"></a>
      <a id="hashCode():Int"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">hashCode</span><span class="params">()</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.Int" class="extype" target="_top">Int</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@hashCode():Int" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="scala.Any#isInstanceOf" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="isInstanceOf[T0]:Boolean"></a>
      <a id="isInstanceOf[T0]:Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">isInstanceOf</span><span class="tparams">[<span name="T0">T0</span>]</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.Boolean" class="extype" target="_top">Boolean</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@isInstanceOf[T0]:Boolean" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>Any</dd></dl></div>
    </li><li name="scala.AnyRef#ne" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="ne(x$1:AnyRef):Boolean"></a>
      <a id="ne(AnyRef):Boolean"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">ne</span><span class="params">(<span name="arg0">arg0: <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.AnyRef" class="extype" target="_top">AnyRef</a></span>)</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.Boolean" class="extype" target="_top">Boolean</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@ne(x$1:AnyRef):Boolean" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd></dl></div>
    </li><li name="scala.AnyRef#notify" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="notify():Unit"></a>
      <a id="notify():Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">notify</span><span class="params">()</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.Unit" class="extype" target="_top">Unit</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@notify():Unit" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd></dl></div>
    </li><li name="scala.AnyRef#notifyAll" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="notifyAll():Unit"></a>
      <a id="notifyAll():Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">notifyAll</span><span class="params">()</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.Unit" class="extype" target="_top">Unit</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@notifyAll():Unit" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd></dl></div>
    </li><li name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils#refSources" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="refSources(refTree:com.here.platform.data.processing.compiler.reftree.RefTree):Map[com.here.platform.data.processing.compiler.reftree.RefTree.RefName,(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Name)]"></a>
      <a id="refSources(RefTree):Map[RefName,(Id,Name)]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">refSources</span><span class="params">(<span name="refTree">refTree: <a href="../../../compiler/reftree/RefTree.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefTree">RefTree</a></span>)</span><span class="result">: <span class="extype" name="scala.Predef.Map">Map</span>[<a href="../../../compiler/reftree/RefTree$.html#RefName=Symbol" class="extmbr" name="com.here.platform.data.processing.compiler.reftree.RefTree.RefName">RefName</a>, (<span class="extype" name="com.here.platform.data.processing.catalog.Catalog.Id">Id</span>, <span class="extype" name="com.here.platform.data.processing.catalog.Layer.Name">Name</span>)]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@refSources(refTree:com.here.platform.data.processing.compiler.reftree.RefTree):Map[com.here.platform.data.processing.compiler.reftree.RefTree.RefName,(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Name)]" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Creates a Map that for each ref name contains the source catalog and layer.</p><div class="fullcomment"><div class="comment cmt"><p>Creates a Map that for each ref name contains the source catalog and layer.
</p></div><dl class="paramcmts block"><dt class="param">refTree</dt><dd class="cmt"><p>a <a href="../../../compiler/reftree/RefTree.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefTree">com.here.platform.data.processing.compiler.reftree.RefTree</a> to convert to the map</p></dd><dt>returns</dt><dd class="cmt"><p>a Map that maps reference names to source layers</p></dd></dl></div>
    </li><li name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils#refTargets" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="refTargets(refTree:com.here.platform.data.processing.compiler.reftree.RefTree):Map[com.here.platform.data.processing.compiler.reftree.RefTree.RefName,(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Name)]"></a>
      <a id="refTargets(RefTree):Map[RefName,(Id,Name)]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">refTargets</span><span class="params">(<span name="refTree">refTree: <a href="../../../compiler/reftree/RefTree.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefTree">RefTree</a></span>)</span><span class="result">: <span class="extype" name="scala.Predef.Map">Map</span>[<a href="../../../compiler/reftree/RefTree$.html#RefName=Symbol" class="extmbr" name="com.here.platform.data.processing.compiler.reftree.RefTree.RefName">RefName</a>, (<span class="extype" name="com.here.platform.data.processing.catalog.Catalog.Id">Id</span>, <span class="extype" name="com.here.platform.data.processing.catalog.Layer.Name">Name</span>)]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@refTargets(refTree:com.here.platform.data.processing.compiler.reftree.RefTree):Map[com.here.platform.data.processing.compiler.reftree.RefTree.RefName,(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Name)]" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Creates a Map that for each ref name contains the target catalog and layer.</p><div class="fullcomment"><div class="comment cmt"><p>Creates a Map that for each ref name contains the target catalog and layer.
</p></div><dl class="paramcmts block"><dt class="param">refTree</dt><dd class="cmt"><p><a href="../../../compiler/reftree/RefTree.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefTree">com.here.platform.data.processing.compiler.reftree.RefTree</a> to convert to the map</p></dd><dt>returns</dt><dd class="cmt"><p>a Map which contains the target catalog and layer for each ref name</p></dd></dl></div>
    </li><li name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils#sourceLayers" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="sourceLayers(refs:Seq[com.here.platform.data.processing.compiler.reftree.RefBase]):Set[(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Name)]"></a>
      <a id="sourceLayers(Seq[RefBase]):Set[(Id,Name)]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">sourceLayers</span><span class="params">(<span name="refs">refs: <span class="extype" name="scala.Seq">Seq</span>[<a href="../../../compiler/reftree/RefBase.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefBase">RefBase</a>]</span>)</span><span class="result">: <span class="extype" name="scala.Predef.Set">Set</span>[(<span class="extype" name="com.here.platform.data.processing.catalog.Catalog.Id">Id</span>, <span class="extype" name="com.here.platform.data.processing.catalog.Layer.Name">Name</span>)]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@sourceLayers(refs:Seq[com.here.platform.data.processing.compiler.reftree.RefBase]):Set[(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Name)]" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li><li name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils#sourceLayers" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="sourceLayers(refTree:com.here.platform.data.processing.compiler.reftree.RefTree):Set[(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Name)]"></a>
      <a id="sourceLayers(RefTree):Set[(Id,Name)]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">sourceLayers</span><span class="params">(<span name="refTree">refTree: <a href="../../../compiler/reftree/RefTree.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefTree">RefTree</a></span>)</span><span class="result">: <span class="extype" name="scala.Predef.Set">Set</span>[(<span class="extype" name="com.here.platform.data.processing.catalog.Catalog.Id">Id</span>, <span class="extype" name="com.here.platform.data.processing.catalog.Layer.Name">Name</span>)]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@sourceLayers(refTree:com.here.platform.data.processing.compiler.reftree.RefTree):Set[(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Name)]" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Collects all layers which are the source of a reference.</p><div class="fullcomment"><div class="comment cmt"><p>Collects all layers which are the source of a reference.
</p></div><dl class="paramcmts block"><dt class="param">refTree</dt><dd class="cmt"><p>a <a href="../../../compiler/reftree/RefTree.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefTree">com.here.platform.data.processing.compiler.reftree.RefTree</a></p></dd><dt>returns</dt><dd class="cmt"><p>a Set with all layers which are the source of a reference</p></dd></dl></div>
    </li><li name="scala.AnyRef#synchronized" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="synchronized[T0](x$1:=&gt;T0):T0"></a>
      <a id="synchronized[T0](⇒T0):T0"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">synchronized</span><span class="tparams">[<span name="T0">T0</span>]</span><span class="params">(<span name="arg0">arg0: ⇒ <span class="extype" name="java.lang.AnyRef.synchronized.T0">T0</span></span>)</span><span class="result">: <span class="extype" name="java.lang.AnyRef.synchronized.T0">T0</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@synchronized[T0](x$1:=&gt;T0):T0" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd></dl></div>
    </li><li name="scala.AnyRef#toString" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="toString():String"></a>
      <a id="toString():String"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">toString</span><span class="params">()</span><span class="result">: <span class="extype" name="java.lang.String">String</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@toString():String" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div>
    </li><li name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils#updateRefs" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="updateRefs(refTree:com.here.platform.data.processing.compiler.reftree.RefTree,inChanges:org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Change)],oldRefs:com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs,resolveIn:com.here.platform.data.processing.compiler.reftree.ResolveInFn,numThreads:Int,storageLevel:org.apache.spark.storage.StorageLevel,layerPartitioning:Map[(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Name),com.here.platform.data.processing.catalog.Partitioning.Value],debugConfig:com.here.platform.data.processing.driver.config.ExecutorDebugConfig)(implicitlogContext:com.here.platform.data.processing.logging.LogContext):com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs"></a>
      <a id="updateRefs(RefTree,RDD[(Key,Change)],Refs,ResolveInFn,Int,StorageLevel,Map[(Id,Name),catalog.Partitioning.Value],ExecutorDebugConfig)(LogContext):Refs"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">updateRefs</span><span class="params">(<span name="refTree">refTree: <a href="../../../compiler/reftree/RefTree.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefTree">RefTree</a></span>, <span name="inChanges">inChanges: <a href="http://spark.apache.org/docs/2.1.1/api/scala/index.html#org.apache.spark.rdd.RDD" class="extype" target="_top">RDD</a>[(<span class="extype" name="com.here.platform.data.processing.catalog.Partition.Key">Key</span>, <span class="extype" name="com.here.platform.data.processing.catalog.Partition.Change">Change</span>)]</span>, <span name="oldRefs">oldRefs: <a href="#Refs=Map[(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Name),org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,Map[com.here.platform.data.processing.compiler.reftree.RefTree.RefName,Set[com.here.platform.data.processing.catalog.Partition.Key]])]]" class="extmbr" name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs">Refs</a></span>, <span name="resolveIn">resolveIn: <a href="../../../compiler/reftree/ResolveInFn.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.ResolveInFn">ResolveInFn</a></span>, <span name="numThreads">numThreads: <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.Int" class="extype" target="_top">Int</a></span>, <span name="storageLevel">storageLevel: <a href="http://spark.apache.org/docs/2.1.1/api/scala/index.html#org.apache.spark.storage.StorageLevel" class="extype" target="_top">StorageLevel</a></span>, <span name="layerPartitioning">layerPartitioning: <span class="extype" name="scala.Predef.Map">Map</span>[(<span class="extype" name="com.here.platform.data.processing.catalog.Catalog.Id">Id</span>, <span class="extype" name="com.here.platform.data.processing.catalog.Layer.Name">Name</span>), <span class="extype" name="scala.Enumeration.Value">catalog.Partitioning.Value</span>]</span>, <span name="debugConfig">debugConfig: <a href="../../config/ExecutorDebugConfig.html" class="extype" name="com.here.platform.data.processing.driver.config.ExecutorDebugConfig">ExecutorDebugConfig</a></span>)</span><span class="params">(<span class="implicit">implicit </span><span name="logContext">logContext: <a href="https://olp-arch.jenkins.release.in.here.com/job/ACF/job/stable-acfc/scaladoc/index.html#com.here.platform.data.processing.logging.LogContext" class="extype" target="_top">LogContext</a></span>)</span><span class="result">: <a href="#Refs=Map[(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Name),org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,Map[com.here.platform.data.processing.compiler.reftree.RefTree.RefName,Set[com.here.platform.data.processing.catalog.Partition.Key]])]]" class="extmbr" name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs">Refs</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@updateRefs(refTree:com.here.platform.data.processing.compiler.reftree.RefTree,inChanges:org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,com.here.platform.data.processing.catalog.Partition.Change)],oldRefs:com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs,resolveIn:com.here.platform.data.processing.compiler.reftree.ResolveInFn,numThreads:Int,storageLevel:org.apache.spark.storage.StorageLevel,layerPartitioning:Map[(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Name),com.here.platform.data.processing.catalog.Partitioning.Value],debugConfig:com.here.platform.data.processing.driver.config.ExecutorDebugConfig)(implicitlogContext:com.here.platform.data.processing.logging.LogContext):com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Updates the references using the given resolver.</p><div class="fullcomment"><div class="comment cmt"><p>Updates the references using the given resolver.
</p></div><dl class="paramcmts block"><dt class="param">refTree</dt><dd class="cmt"><p>a <a href="../../../compiler/reftree/RefTree.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefTree">com.here.platform.data.processing.compiler.reftree.RefTree</a> defining the reference structure</p></dd><dt class="param">inChanges</dt><dd class="cmt"><p>input Data with the changes, will be accessed multiple times
                         and must therefore be persisted or easy to recompute</p></dd><dt class="param">oldRefs</dt><dd class="cmt"><p>the references from the previous map version, where the impact of inChanges has to be applied.
                         It must have been created with the same reference structure as given
                         in <a href="../../../compiler/reftree/RefTree.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefTree">com.here.platform.data.processing.compiler.reftree.RefTree</a></p></dd><dt class="param">resolveIn</dt><dd class="cmt"><p>the interface implementing the function that resolves references</p></dd><dt class="param">numThreads</dt><dd class="cmt"><p>the number of resolving threads</p></dd><dt class="param">storageLevel</dt><dd class="cmt"><p>the storage level to be used when persisting</p></dd><dt class="param">layerPartitioning</dt><dd class="cmt"><p>layer partitioning configuration</p></dd><dt>returns</dt><dd class="cmt"><p>the <a href="#Refs=Map[(com.here.platform.data.processing.catalog.Catalog.Id,com.here.platform.data.processing.catalog.Layer.Name),org.apache.spark.rdd.RDD[(com.here.platform.data.processing.catalog.Partition.Key,Map[com.here.platform.data.processing.compiler.reftree.RefTree.RefName,Set[com.here.platform.data.processing.catalog.Partition.Key]])]]" class="extmbr" name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils.Refs">Refs</a> data structures, where all RDDs are persisted</p></dd></dl></div>
    </li><li name="com.here.platform.data.processing.driver.impl.executors.RefTreeUtils#verifyRefTreeAgainstInputLayers" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="verifyRefTreeAgainstInputLayers(refTree:com.here.platform.data.processing.compiler.reftree.RefTree,inLayers:Map[com.here.platform.data.processing.catalog.Catalog.Id,Set[com.here.platform.data.processing.catalog.Layer.Name]]):Unit"></a>
      <a id="verifyRefTreeAgainstInputLayers(RefTree,Map[Id,Set[Name]]):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">verifyRefTreeAgainstInputLayers</span><span class="params">(<span name="refTree">refTree: <a href="../../../compiler/reftree/RefTree.html" class="extype" name="com.here.platform.data.processing.compiler.reftree.RefTree">RefTree</a></span>, <span name="inLayers">inLayers: <span class="extype" name="scala.Predef.Map">Map</span>[<span class="extype" name="com.here.platform.data.processing.catalog.Catalog.Id">Id</span>, <span class="extype" name="scala.Predef.Set">Set</span>[<span class="extype" name="com.here.platform.data.processing.catalog.Layer.Name">Name</span>]]</span>)</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.Unit" class="extype" target="_top">Unit</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@verifyRefTreeAgainstInputLayers(refTree:com.here.platform.data.processing.compiler.reftree.RefTree,inLayers:Map[com.here.platform.data.processing.catalog.Catalog.Id,Set[com.here.platform.data.processing.catalog.Layer.Name]]):Unit" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Verifies that catalogs and layers mentioned in RefTree are declared as input layers from compiler.</p><div class="fullcomment"><div class="comment cmt"><p>Verifies that catalogs and layers mentioned in RefTree are declared as input layers from compiler.
Otherwise throws <code>IllegalArgumentException</code>
</p></div><dl class="paramcmts block"><dt class="param">refTree</dt><dd class="cmt"><p>refStructure to be verified</p></dd><dt class="param">inLayers</dt><dd class="cmt"><p>input layers configured for compiler</p></dd></dl></div>
    </li><li name="scala.AnyRef#wait" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="wait():Unit"></a>
      <a id="wait():Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">wait</span><span class="params">()</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.Unit" class="extype" target="_top">Unit</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@wait():Unit" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd>
                <span class="name">@throws</span><span class="args">(<span>
      
      <span class="defval" name="classOf[java.lang.InterruptedException]">...</span>
    </span>)</span>
              
        </dd></dl></div>
    </li><li name="scala.AnyRef#wait" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="wait(x$1:Long,x$2:Int):Unit"></a>
      <a id="wait(Long,Int):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">wait</span><span class="params">(<span name="arg0">arg0: <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.Long" class="extype" target="_top">Long</a></span>, <span name="arg1">arg1: <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.Int" class="extype" target="_top">Int</a></span>)</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.Unit" class="extype" target="_top">Unit</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@wait(x$1:Long,x$2:Int):Unit" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd>
                <span class="name">@throws</span><span class="args">(<span>
      
      <span class="defval" name="classOf[java.lang.InterruptedException]">...</span>
    </span>)</span>
              
        </dd></dl></div>
    </li><li name="scala.AnyRef#wait" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="wait(x$1:Long):Unit"></a>
      <a id="wait(Long):Unit"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">def</span>
      </span>
      <span class="symbol">
        <span class="name">wait</span><span class="params">(<span name="arg0">arg0: <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.Long" class="extype" target="_top">Long</a></span>)</span><span class="result">: <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.Unit" class="extype" target="_top">Unit</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../../../../index.html#com.here.platform.data.processing.driver.impl.executors.RefTreeUtils$@wait(x$1:Long):Unit" title="Permalink" target="_top">
        <img src="../../../../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd>
                <span class="name">@throws</span><span class="args">(<span>
      
      <span class="defval" name="classOf[java.lang.InterruptedException]">...</span>
    </span>)</span>
              
        </dd></dl></div>
    </li></ol>
            </div>

        

        
        </div>

        <div id="inheritedMembers">
        <div class="parent" name="scala.AnyRef">
              <h3>Inherited from <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.AnyRef" class="extype" target="_top">AnyRef</a></h3>
            </div><div class="parent" name="scala.Any">
              <h3>Inherited from <a href="http://www.scala-lang.org/api/2.11.8/index.html#scala.Any" class="extype" target="_top">Any</a></h3>
            </div>
        
        </div>

        <div id="groupedMembers">
        <div class="group" name="Ungrouped">
              <h3>Ungrouped</h3>
              
            </div>
        </div>

      </div>

      <div id="tooltip"></div>

      <div id="footer">  </div>


    </body>
      </html>
